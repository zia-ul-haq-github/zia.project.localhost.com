"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2534],{51042:function(S,D,e){var l=e(1413),s=e(67294),u=e(42110),m=e(91146),d=function(_,x){return s.createElement(m.Z,(0,l.Z)((0,l.Z)({},_),{},{ref:x,icon:u.Z}))},n=s.forwardRef(d);D.Z=n},88484:function(S,D,e){e.d(D,{Z:function(){return _}});var l=e(1413),s=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},m=u,d=e(91146),n=function(h,$){return s.createElement(d.Z,(0,l.Z)((0,l.Z)({},h),{},{ref:$,icon:m}))},P=s.forwardRef(n),_=P},38345:function(S,D,e){var l=e(1413),s=e(53911),u=e(44962),m=e(13286),d=e(85893),n=function(x){return(0,d.jsx)(s.Z,(0,l.Z)({bodyStyle:{padding:0}},x))},P=s.Z;P.isProCard=!0,P.Divider=u.Z,P.TabPane=m.Z,P.Group=n,D.Z=P},50335:function(S,D,e){e.d(D,{Z:function(){return r}});var l=e(1413),s=e(91),u=e(67294),m=e(66758),d=e(57812),n=e(85893),P=["proFieldProps","fieldProps"],_="date",x=u.forwardRef(function(i,M){var O=i.proFieldProps,C=i.fieldProps,E=(0,s.Z)(i,P),f=(0,u.useContext)(m.Z);return(0,n.jsx)(d.Z,(0,l.Z)({ref:M,valueType:_,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},C),proFieldProps:O,filedConfig:{valueType:_,customLightMode:!0}},E))}),h=x,$=["proFieldProps","fieldProps"],G="dateMonth",j=u.forwardRef(function(i,M){var O=i.proFieldProps,C=i.fieldProps,E=(0,s.Z)(i,$),f=(0,u.useContext)(m.Z);return(0,n.jsx)(d.Z,(0,l.Z)({ref:M,valueType:G,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},C),proFieldProps:O,filedConfig:{valueType:G,customLightMode:!0}},E))}),re=j,oe=["fieldProps"],Y="dateQuarter",te=u.forwardRef(function(i,M){var O=i.fieldProps,C=(0,s.Z)(i,oe),E=(0,u.useContext)(m.Z);return(0,n.jsx)(d.Z,(0,l.Z)({ref:M,valueType:Y,fieldProps:(0,l.Z)({getPopupContainer:E.getPopupContainer},O),filedConfig:{valueType:Y,customLightMode:!0}},C))}),N=te,y=["proFieldProps","fieldProps"],V="dateWeek",ae=u.forwardRef(function(i,M){var O=i.proFieldProps,C=i.fieldProps,E=(0,s.Z)(i,y),f=(0,u.useContext)(m.Z);return(0,n.jsx)(d.Z,(0,l.Z)({ref:M,valueType:V,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},C),proFieldProps:O,filedConfig:{valueType:V,customLightMode:!0}},E))}),ne=ae,le=["proFieldProps","fieldProps"],Q="dateYear",H=u.forwardRef(function(i,M){var O=i.proFieldProps,C=i.fieldProps,E=(0,s.Z)(i,le),f=(0,u.useContext)(m.Z);return(0,n.jsx)(d.Z,(0,l.Z)({ref:M,valueType:Q,fieldProps:(0,l.Z)({getPopupContainer:f.getPopupContainer},C),proFieldProps:O,filedConfig:{valueType:Q,customLightMode:!0}},E))}),b=H,A=h;A.Week=ne,A.Month=re,A.Quarter=N,A.Year=b,A.displayName="ProFormComponent";var r=A},58547:function(S,D,e){e.d(D,{h:function(){return s}});var l=e(67294),s=function(d){return Array.isArray(d)?d:d&&d.fileList},u=function(d){return new Promise(function(n,P){var _=new FileReader;_.readAsDataURL(d.file.originFileObj),_.onload=function(){var x=_.result;n(x)},_.onerror=function(x){return P(x)}})}},84381:function(S,D,e){e.r(D);var l=e(97857),s=e.n(l),u=e(5574),m=e.n(u),d=e(15009),n=e.n(d),P=e(99289),_=e.n(P),x=e(6110),h=e(34994),$=e(2236),G=e(38345),j=e(5966),re=e(50335),oe=e(90672),Y=e(2453),te=e(47019),N=e(71230),y=e(15746),V=e(83622),ae=e(95715),ne=e(66476),le=e(51042),Q=e(88484),H=e(67294),b=e(76772),A=e(58547),r=e(85893),i=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(R){setTimeout(function(){R(!0)},f)})},M={image_url:"",name:"",role:"",email:"",date_of_birth:"",mobile_no:"",bio_data:"",address:""},O=function(){var E=_()(n()().mark(function f(R,o){var k;return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",o),v.prev=2,k={image_url:R,name:o==null?void 0:o.name,role:"user",email:o==null?void 0:o.email,date_of_birth:o==null?void 0:o.date_of_birth,mobile_no:o==null?void 0:o.mobile_no,bio_data:o==null?void 0:o.bio_data,address:{street:o==null?void 0:o.street,country:o==null?void 0:o.country,province:o==null?void 0:o.province,city:o==null?void 0:o.city,postal_code:o==null?void 0:o.postal_code}},v.next=6,(0,b.request)("/api/users/"+(o==null?void 0:o.user_id),{method:"PUT",data:k}).then(function(){var U=_()(n()().mark(function J(T){var I,Z;return n()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:console.log("api_response"),console.log(T),(T==null||(I=T.data)===null||I===void 0?void 0:I.id)>0&&(Y.ZP.success("Submitted successfully"),b.history.push("/admin-app/users/edit/"+(T==null||(Z=T.data)===null||Z===void 0?void 0:Z.id)));case 3:case"end":return g.stop()}},J)}));return function(J){return U.apply(this,arguments)}}()).catch(function(U){console.log(U)});case 6:return v.abrupt("return",v.sent);case 9:v.prev=9,v.t0=v.catch(2),console.log("api_response - error"),console.log(v.t0);case 13:return v.abrupt("return",!0);case 14:case"end":return v.stop()}},f,null,[[2,9]])}));return function(R,o){return E.apply(this,arguments)}}(),C=function(){var f=(0,b.useParams)(),R=te.Z.useForm(),o=m()(R,1),k=o[0],pe=(0,H.useState)(0),v=m()(pe,2),U=v[0],J=v[1],T=(0,H.useState)("http://zia.project.localhost.com/images/default/user-profile-image.png"),I=m()(T,2),Z=I[0],X=I[1];return(0,H.useEffect)(function(){J(f.id)},[]),(0,r.jsxs)(x._z,{children:[(0,r.jsxs)(N.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(y.Z,{flex:"auto"}),(0,r.jsx)(y.Z,{flex:"100px",children:(0,r.jsxs)(V.ZP,{type:"primary",onClick:function(){b.history.push("/admin-app/users/new")},style:{marginBlockEnd:15},children:[(0,r.jsx)(le.Z,{})," New"]},"new")})]}),(0,r.jsxs)(h.A,{layout:"vertical",grid:!0,form:k,initialValues:M,params:{user_id:U},request:_()(n()().mark(function g(){var a,c=arguments;return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(a=c.length>0&&c[0]!==void 0?c[0]:{},console.log("proform-params"),console.log(a),(a==null?void 0:a.user_id)!=0){p.next=5;break}return p.abrupt("return");case 5:return p.next=7,i(2e3);case 7:return p.next=9,(0,b.request)("/api/users/"+(a==null?void 0:a.user_id),{method:"GET"}).then(function(){var q=_()(n()().mark(function B(t){var ie,de,se,ue,_e,ce,me,W,L,F,K,z;return n()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return console.log("api_response"),console.log(t),X(t==null||(ie=t.data)===null||ie===void 0?void 0:ie.image_url),ee.abrupt("return",s()(s()({},M),{},{image_url:t==null||(de=t.data)===null||de===void 0?void 0:de.image_url,name:t==null||(se=t.data)===null||se===void 0?void 0:se.name,email:t==null||(ue=t.data)===null||ue===void 0?void 0:ue.email,date_of_birth:t==null||(_e=t.data)===null||_e===void 0?void 0:_e.date_of_birth,mobile_no:t==null||(ce=t.data)===null||ce===void 0?void 0:ce.mobile_no,bio_data:t==null||(me=t.data)===null||me===void 0?void 0:me.bio_data,street:t==null||(W=t.data)===null||W===void 0||(W=W.address)===null||W===void 0?void 0:W.street,country:t==null||(L=t.data)===null||L===void 0||(L=L.address)===null||L===void 0?void 0:L.country,province:t==null||(F=t.data)===null||F===void 0||(F=F.address)===null||F===void 0?void 0:F.province,city:t==null||(K=t.data)===null||K===void 0||(K=K.address)===null||K===void 0?void 0:K.city,postal_code:t==null||(z=t.data)===null||z===void 0||(z=z.address)===null||z===void 0?void 0:z.postal_code}));case 4:case"end":return ee.stop()}},B)}));return function(B){return q.apply(this,arguments)}}()).catch(function(q){console.log(q)});case 9:return p.abrupt("return",p.sent);case 10:case"end":return p.stop()}},g)})),onFinish:function(){var g=_()(n()().mark(function a(c){return n()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return console.log(c),p.next=3,i(1e3);case 3:return c.user_id=U,c.image_url=Z,p.next=7,O(Z,c);case 7:case"end":return p.stop()}},a)}));return function(a){return g.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(a,c){return(0,r.jsx)($.S,{children:c})}},children:[(0,r.jsx)(G.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(a){return console.log(a)},children:(0,r.jsxs)(N.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(y.Z,{span:6,children:(0,r.jsxs)(h.A.Group,{size:24,children:[(0,r.jsx)(y.Z,{span:24,children:(0,r.jsx)(ae.Z,{width:"100%",height:200,src:Z,fallback:Z!==""||Z===null?Z:"http://zia.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(y.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(h.A.Item,{name:"image_url",getValueFromEvent:A.h,children:(0,r.jsx)(ne.Z,{name:"file",onChange:function(a){if(console.log("file - onChange - info"),console.log(a),a.file.status!=="uploading"){if(a.file.status=="removed"&&X(""),a.file.status==="done"){var c;X(a==null||(c=a.file)===null||c===void 0||(c=c.response)===null||c===void 0?void 0:c.url)}a.file.status==="error"&&Y.ZP.error("".concat(a.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(a){console.log("file is removed"),console.log(a),(0,b.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:a==null?void 0:a.name,directory:"users"}}).then(function(){var c=_()(n()().mark(function w(p){return n()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:console.log("api_response"),console.log(p);case 2:case"end":return B.stop()}},w)}));return function(w){return c.apply(this,arguments)}}())},children:(0,r.jsx)(V.ZP,{type:"primary",icon:(0,r.jsx)(Q.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(a){},children:"Change Image"})})})})]})}),(0,r.jsxs)(y.Z,{span:18,children:[(0,r.jsxs)(h.A.Group,{size:24,children:[(0,r.jsx)(j.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(j.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(h.A.Group,{size:24,children:[(0,r.jsx)(re.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(j.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(h.A.Group,{size:24,children:(0,r.jsx)(oe.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,r.jsxs)(G.Z,{title:"Address Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,r.jsx)(h.A.Group,{size:24,children:(0,r.jsx)(j.Z,{name:"street",label:"Street address",placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsxs)(h.A.Group,{size:24,children:[(0,r.jsx)(j.Z,{name:"country",label:"Country / Region",placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(j.Z,{name:"province",label:"Province",placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(h.A.Group,{size:24,children:[(0,r.jsx)(j.Z,{name:"city",label:"City",placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(j.Z,{name:"postal_code",label:"Postal Code / ZIP",placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})]})};D.default=C}}]);
