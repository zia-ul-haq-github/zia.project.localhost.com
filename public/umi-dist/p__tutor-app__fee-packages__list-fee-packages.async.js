"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5142],{82061:function(C,c,e){var r=e(1413),a=e(67294),v=e(47046),m=e(91146),h=function(i,g){return a.createElement(m.Z,(0,r.Z)((0,r.Z)({},i),{},{ref:g,icon:v.Z}))},t=a.forwardRef(h);c.Z=t},47389:function(C,c,e){var r=e(1413),a=e(67294),v=e(27363),m=e(91146),h=function(i,g){return a.createElement(m.Z,(0,r.Z)((0,r.Z)({},i),{},{ref:g,icon:v.Z}))},t=a.forwardRef(h);c.Z=t},51042:function(C,c,e){var r=e(1413),a=e(67294),v=e(42110),m=e(91146),h=function(i,g){return a.createElement(m.Z,(0,r.Z)((0,r.Z)({},i),{},{ref:g,icon:v.Z}))},t=a.forwardRef(h);c.Z=t},63783:function(C,c,e){var r=e(1413),a=e(67294),v=e(36688),m=e(91146),h=function(i,g){return a.createElement(m.Z,(0,r.Z)((0,r.Z)({},i),{},{ref:g,icon:v.Z}))},t=a.forwardRef(h);c.Z=t},46849:function(C,c,e){e.r(c),e.d(c,{default:function(){return H},waitTime:function(){return U},waitTimePromise:function(){return B}});var r=e(97857),a=e.n(r),v=e(5574),m=e.n(v),h=e(15009),t=e.n(h),O=e(99289),i=e.n(O),g=e(47389),W=e(51042),Y=e(6110),w=e(91319),y=e(83622),x=e(2453),I=e(76772),k=e(27484),L=e.n(k),S=e(67294),z=e(86738),Q=e(63783),$=e(82061),n=e(85893),G=function(s){var u=s.rowId,l=s.onFinish;return(0,n.jsx)(z.Z,{title:"Delete the Fee Package",description:"Are you sure you want to delete this Fee Package?",icon:(0,n.jsx)(Q.Z,{style:{color:"red"}}),placement:"left",onConfirm:i()(t()().mark(function Z(){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,I.request)("/api/fee-packages/"+u,{method:"DELETE"}).then(function(A){A.status===!0?l({status:!0,text_message:"Fee Package deleted successfully"}):l({status:!1,text_message:"Failed to delete Fee Package: Invalid response"})});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),okText:"Yes",cancelText:"No",children:(0,n.jsx)(y.ZP,{danger:!0,children:(0,n.jsx)($.Z,{})},"deletable")})},N=G,B=function(){var _=i()(t()().mark(function s(){var u,l=arguments;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=l.length>0&&l[0]!==void 0?l[0]:100,o.abrupt("return",new Promise(function(d){setTimeout(function(){d(!0)},u)}));case 2:case"end":return o.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),U=function(){var _=i()(t()().mark(function s(){var u,l=arguments;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=l.length>0&&l[0]!==void 0?l[0]:100,o.next=3,B(u);case 3:case"end":return o.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),b=function(){var s=(0,I.useModel)("@@initialState"),u=s.initialState,l=s.loading,Z=s.refresh,o=s.setInitialState;console.log("initialState"),console.log(u),console.log("loading"),console.log(l);var d=(0,S.useRef)(),A=(0,S.useState)(0),F=m()(A,2),q=F[0],J=F[1];(0,S.useEffect)(function(){var E;J(u==null||(E=u.currentUser)===null||E===void 0?void 0:E.id)},[]);var V=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",dataIndex:"title",key:"table-column-title",hideInSearch:!0},{title:"Description",dataIndex:"description",key:"table-column-description",hideInSearch:!0},{title:"Fee Amount",dataIndex:"fee_amount",key:"table-column-fee-amount",hideInSearch:!0},{title:"Service Charges",dataIndex:"service_charges_amount",key:"table-column-service-charges-amount",hideInSearch:!0},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(P){return(0,n.jsx)("p",{children:L()(new Date(P)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(P){return(0,n.jsx)("p",{children:L()(new Date(P)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(P,p,j,X){return[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.ZP,{onClick:function(){I.history.push("/tutor-app/fee-packages/edit/"+p.id)},children:(0,n.jsx)(g.Z,{})},"editable"),",",(0,n.jsx)(N,{rowId:p==null?void 0:p.id,onFinish:function(f){var M=f.status,T=f.text_message;if(M){var D;x.ZP.success(T),(D=d.current)===null||D===void 0||D.reload()}else x.ZP.error(T)}})]})]}}];return(0,n.jsx)(Y._z,{children:(0,n.jsx)(w.Z,{actionRef:d,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,n.jsxs)(y.ZP,{type:"primary",onClick:function(){I.history.push("/tutor-app/fee-packages/new")},children:[(0,n.jsx)(W.Z,{})," New"]},"new")]},request:function(){var E=i()(t()().mark(function P(p,j,X){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,U(2e3);case 2:return f.next=4,(0,I.request)("/api/fee-packages",{params:{sort:a()({},j),pagination:a()({},p)}}).then(function(){var M=i()(t()().mark(function T(D){return t()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",{data:D.data.data,total:D.data.total,current_page:D.data.current_page});case 1:case"end":return R.stop()}},T)}));return function(T){return M.apply(this,arguments)}}()).catch(function(M){console.log(M)});case 4:return f.abrupt("return",f.sent);case 5:case"end":return f.stop()}},P)}));return function(P,p,j){return E.apply(this,arguments)}}(),columns:V})})},H=b}}]);
