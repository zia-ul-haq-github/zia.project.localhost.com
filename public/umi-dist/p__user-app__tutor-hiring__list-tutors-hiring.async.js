"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7815],{63783:function(ve,w,t){var Z=t(1413),p=t(67294),M=t(36688),P=t(91146),B=function(C,D){return p.createElement(P.Z,(0,Z.Z)((0,Z.Z)({},C),{},{ref:D,icon:M.Z}))},i=p.forwardRef(B);w.Z=i},90672:function(ve,w,t){var Z=t(1413),p=t(91),M=t(67294),P=t(57812),B=t(85893),i=["fieldProps","proFieldProps"],R=function(D,s){var re=D.fieldProps,ne=D.proFieldProps,U=(0,p.Z)(D,i);return(0,B.jsx)(P.Z,(0,Z.Z)({ref:s,valueType:"textarea",fieldProps:re,proFieldProps:ne},U))};w.Z=M.forwardRef(R)},5966:function(ve,w,t){var Z=t(97685),p=t(1413),M=t(91),P=t(21770),B=t(47019),i=t(55241),R=t(98423),C=t(67294),D=t(57812),s=t(85893),re=["fieldProps","proFieldProps"],ne=["fieldProps","proFieldProps"],U="text",pe=function(c){var l=c.fieldProps,A=c.proFieldProps,T=(0,M.Z)(c,re);return(0,s.jsx)(D.Z,(0,p.Z)({valueType:U,fieldProps:l,filedConfig:{valueType:U},proFieldProps:A},T))},fe=function(c){var l=(0,P.Z)(c.open||!1,{value:c.open,onChange:c.onOpenChange}),A=(0,Z.Z)(l,2),T=A[0],W=A[1];return(0,s.jsx)(B.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(le){var V,k=le.getFieldValue(c.name||[]);return(0,s.jsx)(i.Z,(0,p.Z)((0,p.Z)({getPopupContainer:function(j){return j&&j.parentNode?j.parentNode:j},onOpenChange:function(j){return W(j)},content:(0,s.jsxs)("div",{style:{padding:"4px 0"},children:[(V=c.statusRender)===null||V===void 0?void 0:V.call(c,k),c.strengthText?(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("span",{children:c.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},c.popoverProps),{},{open:T,children:c.children}))}})},me=function(c){var l=c.fieldProps,A=c.proFieldProps,T=(0,M.Z)(c,ne),W=(0,C.useState)(!1),ie=(0,Z.Z)(W,2),le=ie[0],V=ie[1];return l!=null&&l.statusRender&&T.name?(0,s.jsx)(fe,{name:T.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:le,onOpenChange:V,children:(0,s.jsx)("div",{children:(0,s.jsx)(D.Z,(0,p.Z)({valueType:"password",fieldProps:(0,p.Z)((0,p.Z)({},(0,R.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(E){var j;l==null||(j=l.onBlur)===null||j===void 0||j.call(l,E),V(!1)},onClick:function(E){var j;l==null||(j=l.onClick)===null||j===void 0||j.call(l,E),V(!0)}}),proFieldProps:A,filedConfig:{valueType:U}},T))})}):(0,s.jsx)(D.Z,(0,p.Z)({valueType:"password",fieldProps:l,proFieldProps:A,filedConfig:{valueType:U}},T))},ae=pe;ae.Password=me,ae.displayName="ProFormComponent",w.Z=ae},85458:function(ve,w,t){t.d(w,{a:function(){return Z}});var Z=function(M,P){var B=/(<([^>]+)>)/gi,i=M.replace(B," ").trim(),R=i.split(" ");return R.length>P?R.slice(0,P).join(" ")+" ...":M}},31606:function(ve,w,t){t.r(w),t.d(w,{default:function(){return ze},waitTime:function(){return Pe},waitTimePromise:function(){return Ce}});var Z=t(97857),p=t.n(Z),M=t(5574),P=t.n(M),B=t(15009),i=t.n(B),R=t(99289),C=t.n(R),D=t(1413),s=t(67294),re=t(509),ne=t(91146),U=function(d,f){return s.createElement(ne.Z,(0,D.Z)((0,D.Z)({},d),{},{ref:f,icon:re.Z}))},pe=s.forwardRef(U),fe=pe,me=t(55287),ae=t(88641),he=t(14079),c=t(80638),l=t(42525),A=t(4393),T=t(71230),W=t(15746),ie=t(55102),le=t(78045),V=t(83062),k=t(83622),E=t(76772),j=t(37476),oe=t(38345),q=t(34994),H=t(5966),Te=t(90672),xe=t(91319),Ee=t(95715),Oe=t(27484),ye=t.n(Oe),Ze=t(86738),Me=t(63783),Fe=t(85875),e=t(85893),we=function(d){var f=d.rowId,S=d.onFinish,h=d.userData,x=d.categoryId,y=d.tutorData,L=d.feeAmount,J=d.serviceCharges,se=(0,s.useState)([]),ee=P()(se,2),r=ee[0],$=ee[1];return(0,s.useEffect)(function(){return(0,E.request)("/api/categories/"+x,{method:"GET"}).then(function(O){var F;$(O==null||(F=O.data)===null||F===void 0?void 0:F.title),console.log("api_response"),console.log(O)})},[]),(0,e.jsx)(Ze.Z,{title:"Generate the Fee Voucher",description:"Are you sure you want to generate this Fee Voucher?",icon:(0,e.jsx)(Me.Z,{style:{color:"red"}}),placement:"left",onConfirm:C()(i()().mark(function O(){var F;return i()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return F={title:"Fee Voucher - user:"+(h==null?void 0:h.name)+" - Category:"+r+" - Tutor:"+(y==null?void 0:y.name),description:"This Fee Voucher is generated for user:"+(h==null?void 0:h.name)+" regarding enrollment into the Category:"+r+" with Tutor:"+(y==null?void 0:y.name)+".",amount:L+J,due_date:ye()().add(30,"days").format("YYYY-MM-DD"),status:"unpaid",payment_proof_image_url:"",verification_status:"pending",category_id:x,tutor_id:y==null?void 0:y.id,fee_package_id:f,user_id:h==null?void 0:h.id,author_id:h==null?void 0:h.id},console.log("request_data"),console.log(F),b.next=5,(0,E.request)("/api/fee-vouchers",{method:"POST",data:F}).then(function(de){de.status===!0?S({status:!0,text_message:"Fee Voucher generated successfully"}):S({status:!1,text_message:"Failed to generate Fee Voucher: Invalid response"})});case 5:return b.abrupt("return",b.sent);case 6:case"end":return b.stop()}},O)})),okText:"Yes",cancelText:"No",children:(0,e.jsxs)(k.ZP,{children:[(0,e.jsx)(Fe.Z,{})," Generate Fee Voucher"]},"generate_fee_voucher")})},Ae=we,be=function(d){var f,S,h,x,y,L,J,se=d.visible,ee=d.onVisiblityChange,r=d.viewModelData,$=d.waitTime,O=d.categoryId,F=d.userData,te=(0,s.useRef)(),b=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"University/Institution",dataIndex:"institute",key:"table-column-university-institution",hideInSearch:!0},{title:"Degree",dataIndex:"degree",key:"table-column-degree",hideInSearch:!0},{title:"Board",dataIndex:"board",key:"table-column-board",hideInSearch:!0},{title:"Year of Completion",dataIndex:"completion_date",key:"table-column-completion_date",hideInForm:!0,hideInSearch:!0}],de=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Job Title",dataIndex:"title",key:"table-column-job-title",hideInSearch:!0},{title:"Institution/Organization",dataIndex:"organization",key:"table-column-institution-organization",hideInSearch:!0},{title:"Start Date",dataIndex:"start_date",key:"table-column-start-date",hideInForm:!0,hideInSearch:!0},{title:"End Date",dataIndex:"end_date",key:"table-column-end-date",hideInForm:!0,hideInSearch:!0}],je=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",dataIndex:"title",key:"table-column-title",hideInSearch:!0},{title:"Description",dataIndex:"description",key:"table-column-description",hideInSearch:!0},{title:"Fee Amount",dataIndex:"fee_amount",key:"table-column-fee-amount",hideInSearch:!0},{title:"Service Charges",dataIndex:"service_charges_amount",key:"table-column-service-charges-amount",hideInSearch:!0},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(o){return(0,e.jsx)("p",{children:ye()(new Date(o)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(o){return(0,e.jsx)("p",{children:ye()(new Date(o)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(o,g,z,I){return[(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ae,{rowId:g==null?void 0:g.id,onFinish:function(Y){var u=Y.status,K=Y.text_message;if(u){var G;message.success(K),(G=te.current)===null||G===void 0||G.reload()}else message.error(K)},userData:F,categoryId:O,tutorData:r,feeAmount:g==null?void 0:g.fee_amount,serviceCharges:g==null?void 0:g.service_charges_amount})})]}}];return(0,e.jsxs)(j.Y,{open:se,onOpenChange:function(o){o||ee(o)},modalProps:{destroyOnClose:!0,getContainer:function(){document.body},width:1200},submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{style:{display:"none"}}},grid:!0,preserve:!1,submitTimeout:2e3,onFinish:function(){var m=C()(i()().mark(function o(g){return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,$(2e3);case 2:return I.abrupt("return",!0);case 3:case"end":return I.stop()}},o)}));return function(o){return m.apply(this,arguments)}}(),children:[(0,e.jsx)(oe.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsxs)(T.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsx)(W.Z,{span:6,children:(0,e.jsx)(q.A.Group,{size:24,children:(0,e.jsx)(W.Z,{span:24,children:(0,e.jsx)(Ee.Z,{width:"100%",height:200,src:r==null?void 0:r.image_url})})})}),(0,e.jsxs)(W.Z,{span:18,children:[(0,e.jsxs)(q.A.Group,{size:24,children:[(0,e.jsx)(H.Z,{name:"name",label:"Name",initialValue:r==null?void 0:r.name,fieldProps:{readOnly:!0},placeholder:"Type Your Name",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(H.Z,{label:"Email",name:"email",initialValue:r==null?void 0:r.email,placeholder:"info@example.com etc.",rules:[{required:!0}],fieldProps:{readOnly:!0},colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,e.jsx)(q.A.Group,{size:24,children:(0,e.jsx)(Te.Z,{name:"biographical_info",label:"Biographical Info",initialValue:r==null?void 0:r.bio_data,fieldProps:{rows:6,readOnly:!0},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,e.jsxs)(oe.Z,{title:"Address Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,e.jsx)(q.A.Group,{size:24,children:(0,e.jsx)(H.Z,{name:"street",label:"Street address",initialValue:r==null||(f=r.address)===null||f===void 0?void 0:f.street,fieldProps:{readOnly:!0},placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,e.jsxs)(q.A.Group,{size:24,children:[(0,e.jsx)(H.Z,{name:"country",label:"Country / Region",initialValue:r==null||(S=r.address)===null||S===void 0?void 0:S.country,fieldProps:{readOnly:!0},placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(H.Z,{name:"province",label:"Province",initialValue:r==null||(h=r.address)===null||h===void 0?void 0:h.province,fieldProps:{readOnly:!0},placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,e.jsxs)(q.A.Group,{size:24,children:[(0,e.jsx)(H.Z,{name:"city",label:"City",initialValue:r==null||(x=r.address)===null||x===void 0?void 0:x.city,fieldProps:{readOnly:!0},placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(H.Z,{name:"postal_code",label:"Postal Code / ZIP",initialValue:r==null||(y=r.address)===null||y===void 0?void 0:y.postal_code,fieldProps:{readOnly:!0},placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]}),(0,e.jsx)(oe.Z,{title:"Qualification Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(xe.Z,{rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(o){return console.log(o)}},request:C()(i()().mark(function m(){var o,g,z,I,a=arguments;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=a.length>0&&a[0]!==void 0?a[0]:{},g=a.length>1?a[1]:void 0,z=a.length>2?a[2]:void 0,I=a.length>3?a[3]:void 0,u.next=6,$(2e3);case 6:case"end":return u.stop()}},m)})),dataSource:r!=null&&(L=r.qualifications)!==null&&L!==void 0&&L.length?r.qualifications:[],columns:b})}),(0,e.jsx)(oe.Z,{title:"Experience Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(xe.Z,{rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(o){return console.log(o)}},request:C()(i()().mark(function m(){var o,g,z,I,a=arguments;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=a.length>0&&a[0]!==void 0?a[0]:{},g=a.length>1?a[1]:void 0,z=a.length>2?a[2]:void 0,I=a.length>3?a[3]:void 0,u.next=6,$(2e3);case 6:case"end":return u.stop()}},m)})),dataSource:r!=null&&(J=r.experiences)!==null&&J!==void 0&&J.length?r.experiences:[],columns:de})}),(0,e.jsx)(oe.Z,{title:"Fee Packages Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(xe.Z,{actionRef:te,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(o){return console.log(o)}},request:C()(i()().mark(function m(){var o,g,z,I,a=arguments;return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=a.length>0&&a[0]!==void 0?a[0]:{},g=a.length>1?a[1]:void 0,z=a.length>2?a[2]:void 0,I=a.length>3?a[3]:void 0,u.next=6,$(2e3);case 6:return u.next=8,(0,E.request)("/api/fee-packages",{params:{category_id:O,tutor_id:r==null?void 0:r.id,author_id:r==null?void 0:r.id,sort:p()({},g),pagination:p()({},o)}}).then(function(){var K=C()(i()().mark(function G(ue){return i()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",{data:ue.data.data,total:ue.data.total,current_page:ue.data.current_page});case 1:case"end":return v.stop()}},G)}));return function(G){return K.apply(this,arguments)}}()).catch(function(K){console.log(K)});case 8:return u.abrupt("return",u.sent);case 9:case"end":return u.stop()}},m)})),columns:je})})]})},Be=be,Re=t(85458),Ce=function(){var Q=C()(i()().mark(function d(){var f,S=arguments;return i()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return f=S.length>0&&S[0]!==void 0?S[0]:100,x.abrupt("return",new Promise(function(y){setTimeout(function(){y(!0)},f)}));case 2:case"end":return x.stop()}},d)}));return function(){return Q.apply(this,arguments)}}(),Pe=function(){var Q=C()(i()().mark(function d(){var f,S=arguments;return i()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return f=S.length>0&&S[0]!==void 0?S[0]:100,x.next=3,Ce(f);case 3:case"end":return x.stop()}},d)}));return function(){return Q.apply(this,arguments)}}(),We=A.Z.Meta,Ve=function(){var d=(0,E.useModel)("@@initialState"),f=d.initialState,S=d.loading,h=d.refresh,x=d.setInitialState;console.log("initialState"),console.log(f),console.log("loading"),console.log(S);var y=(0,s.useState)(""),L=P()(y,2),J=L[0],se=L[1],ee=(0,s.useState)(!1),r=P()(ee,2),$=r[0],O=r[1],F=(0,s.useState)({}),te=P()(F,2),b=te[0],de=te[1],je=(0,s.useState)([]),m=P()(je,2),o=m[0],g=m[1],z=(0,s.useState)(null),I=P()(z,2),a=I[0],Y=I[1],u=(0,s.useState)(0),K=P()(u,2),G=K[0],ue=K[1];return(0,s.useEffect)(function(){ue(f==null?void 0:f.currentUser)},[]),(0,s.useEffect)(function(){return(0,E.request)("/api/categories",{}).then(function(N){var v=N.data.data.map(function(n,_){return{value:n==null?void 0:n.id,label:n==null?void 0:n.title}});return g(v),console.log("table_data"),console.log(v),v})},[]),(0,s.useEffect)(function(){o.length>0&&a===null&&Y(o[0].value)},[o]),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"page-banner-wrapper",children:[(0,e.jsx)(T.Z,{children:(0,e.jsx)(W.Z,{xs:24,sm:24,md:24,lg:24,xl:24,children:(0,e.jsx)("div",{className:"page-banner-content",children:(0,e.jsx)("h1",{children:"Tutor Hiring"})})})}),(0,e.jsx)(T.Z,{justify:"center",children:(0,e.jsx)(W.Z,{xs:20,sm:20,md:20,lg:20,xl:20,children:(0,e.jsx)("div",{className:"tutors-grid-filters",style:{marginBlockEnd:"20px"},children:(0,e.jsxs)("div",{className:"tutor-search-field",children:[(0,e.jsx)(ie.Z,{size:"large",placeholder:"Search by Name or Email of Tutors",prefix:(0,e.jsx)(fe,{}),style:{marginBlockEnd:"20px"},onChange:function(v){console.log("test search input"),console.log(v.target.value),se(v.target.value)}}),(0,e.jsx)(le.ZP.Group,{options:o,onChange:function(v){console.log("e.target.value"),console.log(v.target.value),Y(v.target.value)},value:a,optionType:"button",buttonStyle:"solid"})]})})})})]}),(0,e.jsx)(l.Rs,{pagination:{defaultPageSize:6,showSizeChanger:!0,pageSizeOptions:[6,9,10,20,50,100]},showActions:"hover",grid:{gutter:16,column:3},itemCardProps:{prefixCls:"tutors-grid"},params:{searchInput:J,selected_category_id:a},request:function(){var N=C()(i()().mark(function v(n,_,ce){return i()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return console.log("tutors-hiring - params"),console.log(n),console.log("tutors-hiring - params - sort"),console.log(_),console.log("tutors-hiring - params - filter"),console.log(ce),X.next=8,Pe(2e3);case 8:return X.next=10,(0,E.request)("/api/users",{params:{sort:p()({},_),pagination:p()({},n),role:"tutor",search:n==null?void 0:n.searchInput,category_id:n==null?void 0:n.selected_category_id}}).then(function(){var Ie=C()(i()().mark(function De(Se){return i()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.abrupt("return",{data:Se.data.data,total:Se.data.total,current_page:Se.data.current_page});case 1:case"end":return ge.stop()}},De)}));return function(De){return Ie.apply(this,arguments)}}()).catch(function(Ie){});case 10:return X.abrupt("return",X.sent);case 11:case"end":return X.stop()}},v)}));return function(v,n,_){return N.apply(this,arguments)}}(),metas:{content:{render:function(v,n){var _,ce;return(0,e.jsxs)(A.Z,{style:{width:"100%",height:"630px"},actions:[(0,e.jsx)(V.Z,{title:"Thank you for visiting! Explore the details of this Tutor.",children:(0,e.jsx)(k.ZP,{type:"primary",icon:(0,e.jsx)(me.Z,{}),size:"large",onClick:function(){de(n),O(!0)},children:"View Details"},"preview")})],cover:(0,e.jsx)("img",{alt:"example",src:n==null?void 0:n.image_url,style:{height:"300px"}}),children:[(0,e.jsx)("h2",{children:n==null?void 0:n.name}),(0,e.jsx)(We,{description:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{children:n!=null&&n.bio_data?(0,Re.a)(n==null?void 0:n.bio_data,18):""}),(0,e.jsxs)("p",{children:[(0,e.jsx)(ae.Z,{})," ",n==null?void 0:n.email]}),(0,e.jsxs)("p",{children:[(0,e.jsx)(he.Z,{})," ",(n==null||(_=n.qualifications)===null||_===void 0?void 0:_.length)>0?n.qualifications[0].degree:"-"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)(c.Z,{})," ",(n==null||(ce=n.qualifications)===null||ce===void 0?void 0:ce.length)>0?n.qualifications[0].institute:"-"]})]})})]})}}}}),(0,e.jsx)(Be,{visible:$,onVisiblityChange:function(v){var n=v.VisiblityStatus;O(n)},viewModelData:b,waitTime:Pe,categoryId:a,userData:G})]})},ze=Ve}}]);
