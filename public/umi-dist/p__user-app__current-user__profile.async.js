"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[25],{38345:function(G,O,e){var c=e(1413),f=e(53911),m=e(44962),p=e(13286),u=e(85893),a=function(C){return(0,u.jsx)(f.Z,(0,c.Z)({bodyStyle:{padding:0}},C))},E=f.Z;E.isProCard=!0,E.Divider=m.Z,E.TabPane=p.Z,E.Group=a,O.Z=E},50335:function(G,O,e){e.d(O,{Z:function(){return K}});var c=e(1413),f=e(91),m=e(67294),p=e(66758),u=e(68256),a=e(85893),E=["proFieldProps","fieldProps"],v="date",C=m.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,f.Z)(n,E),_=(0,m.useContext)(p.Z);return(0,a.jsx)(u.Z,(0,c.Z)({ref:D,valueType:v,fieldProps:(0,c.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:v,customLightMode:!0}},l))}),x=C,Y=["proFieldProps","fieldProps"],L="dateMonth",R=m.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,f.Z)(n,Y),_=(0,m.useContext)(p.Z);return(0,a.jsx)(u.Z,(0,c.Z)({ref:D,valueType:L,fieldProps:(0,c.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:L,customLightMode:!0}},l))}),Q=R,k=["fieldProps"],y="dateQuarter",N=m.forwardRef(function(n,D){var M=n.fieldProps,h=(0,f.Z)(n,k),l=(0,m.useContext)(p.Z);return(0,a.jsx)(u.Z,(0,c.Z)({ref:D,valueType:y,fieldProps:(0,c.Z)({getPopupContainer:l.getPopupContainer},M),filedConfig:{valueType:y,customLightMode:!0}},h))}),H=N,b=["proFieldProps","fieldProps"],B="dateWeek",V=m.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,f.Z)(n,b),_=(0,m.useContext)(p.Z);return(0,a.jsx)(u.Z,(0,c.Z)({ref:D,valueType:B,fieldProps:(0,c.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:B,customLightMode:!0}},l))}),J=V,X=["proFieldProps","fieldProps"],j="dateYear",T=m.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,f.Z)(n,X),_=(0,m.useContext)(p.Z);return(0,a.jsx)(u.Z,(0,c.Z)({ref:D,valueType:j,fieldProps:(0,c.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:j,customLightMode:!0}},l))}),w=T,o=x;o.Week=J,o.Month=Q,o.Quarter=H,o.Year=w,o.displayName="ProFormComponent";var K=o},58547:function(G,O,e){e.d(O,{h:function(){return f}});var c=e(67294),f=function(u){return Array.isArray(u)?u:u&&u.fileList},m=function(u){return new Promise(function(a,E){var v=new FileReader;v.readAsDataURL(u.file.originFileObj),v.onload=function(){var C=v.result;a(C)},v.onerror=function(C){return E(C)}})}},66392:function(G,O,e){e.r(O);var c=e(97857),f=e.n(c),m=e(5574),p=e.n(m),u=e(15009),a=e.n(u),E=e(99289),v=e.n(E),C=e(6110),x=e(34994),Y=e(2236),L=e(38345),R=e(5966),Q=e(50335),k=e(90672),y=e(2453),N=e(8232),H=e(71230),b=e(15746),B=e(95715),V=e(66476),J=e(83622),X=e(88484),j=e(76772),T=e(67294),w=e(58547),o=e(85893),K=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(_){setTimeout(function(){_(!0)},l)})},n={image_url:"",name:"",email:"",date_of_birth:"",mobile_no:"",bio_data:""},D=function(){var h=v()(a()().mark(function l(_,q,s){var ee;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",s),P.prev=2,ee={image_url:q,name:s==null?void 0:s.name,email:s==null?void 0:s.email,date_of_birth:s==null?void 0:s.date_of_birth,mobile_no:s==null?void 0:s.mobile_no,bio_data:s==null?void 0:s.bio_data},P.next=6,(0,j.request)("/api/users/"+_,{method:"PUT",data:ee}).then(function(){var Z=v()(a()().mark(function U(A){var W;return a()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:console.log("api_response"),console.log(A),(A==null||(W=A.data)===null||W===void 0?void 0:W.id)>0&&y.ZP.success("Updated successfully");case 3:case"end":return F.stop()}},U)}));return function(U){return Z.apply(this,arguments)}}()).catch(function(Z){console.log(Z)});case 6:return P.abrupt("return",P.sent);case 9:P.prev=9,P.t0=P.catch(2),console.log("api_response - error"),console.log(P.t0);case 13:return P.abrupt("return",!0);case 14:case"end":return P.stop()}},l,null,[[2,9]])}));return function(_,q,s){return h.apply(this,arguments)}}(),M=function(){var l=(0,j.useModel)("@@initialState"),_=l.initialState,q=l.loading,s=l.refresh,ee=l.setInitialState,ve=(0,j.useParams)(),P=(0,T.useState)(0),Z=p()(P,2),U=Z[0],A=Z[1],W=N.Z.useForm(),ue=p()(W,1),F=ue[0],Pe=(0,T.useState)(""),_e=p()(Pe,2),re=_e[0],fe=_e[1],he=(0,T.useState)(re),ce=p()(he,2),oe=ce[0],me=ce[1],ge=(0,T.useState)(""),pe=p()(ge,2),Ee=pe[0],De=pe[1];return(0,T.useEffect)(function(){var g;A(_==null||(g=_.currentUser)===null||g===void 0?void 0:g.id)},[]),(0,o.jsx)(C._z,{children:(0,o.jsx)(x.A,{layout:"vertical",grid:!0,form:F,initialValues:n,params:{user_id:U},request:v()(a()().mark(function g(){var r,i=arguments;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(r=i.length>0&&i[0]!==void 0?i[0]:{},console.log("proform-params"),console.log(r),(r==null?void 0:r.user_id)!=0){d.next=5;break}return d.abrupt("return");case 5:return console.log("params?.user_id"),console.log(r==null?void 0:r.user_id),d.next=9,K(2e3);case 9:return d.next=11,(0,j.request)("/api/users/"+(r==null?void 0:r.user_id),{method:"GET"}).then(function(){var z=v()(a()().mark(function I(t){var ae,te,ne,le,ie,se,de;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return console.log("api_response"),console.log(t),fe(t==null||(ae=t.data)===null||ae===void 0?void 0:ae.image_url),$.abrupt("return",f()(f()({},n),{},{image_url:t==null||(te=t.data)===null||te===void 0?void 0:te.image_url,name:t==null||(ne=t.data)===null||ne===void 0?void 0:ne.name,email:t==null||(le=t.data)===null||le===void 0?void 0:le.email,date_of_birth:t==null||(ie=t.data)===null||ie===void 0?void 0:ie.date_of_birth,mobile_no:t==null||(se=t.data)===null||se===void 0?void 0:se.mobile_no,bio_data:t==null||(de=t.data)===null||de===void 0?void 0:de.bio_data}));case 4:case"end":return $.stop()}},I)}));return function(I){return z.apply(this,arguments)}}()).catch(function(z){console.log(z)});case 11:return d.abrupt("return",d.sent);case 12:case"end":return d.stop()}},g)})),onFinish:function(){var g=v()(a()().mark(function r(i){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(i),d.next=3,K(1e3);case 3:return i.user_id=U,i.image_url=oe,d.next=7,D(U,oe,i);case 7:case"end":return d.stop()}},r)}));return function(r){return g.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(r,i){return(0,o.jsx)(Y.S,{children:i})}},children:(0,o.jsx)(L.Z,{title:"Account Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(r){return console.log(r)},children:(0,o.jsxs)(H.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,o.jsx)(b.Z,{span:6,children:(0,o.jsxs)(x.A.Group,{size:24,children:[(0,o.jsx)(b.Z,{span:24,children:(0,o.jsx)(B.Z,{width:"100%",height:200,src:oe,fallback:re!==""?re:"http://zia.project.localhost.com/images/default/user-profile-image.png"})}),(0,o.jsx)(b.Z,{span:24,style:{textAlign:"center"},children:(0,o.jsx)(x.A.Item,{name:"image_url",getValueFromEvent:w.h,children:(0,o.jsx)(V.Z,{name:"file",onChange:function(r){if(console.log("file - onChange - info"),console.log(r),r.file.status!=="uploading"){if(r.file.status=="removed"&&me(""),r.file.status==="done"){var i;me(r==null||(i=r.file)===null||i===void 0||(i=i.response)===null||i===void 0?void 0:i.url)}r.file.status==="error"&&y.ZP.error("".concat(r.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(r){console.log("file is removed"),console.log(r),(0,j.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:r==null?void 0:r.name,directory:"users"}}).then(function(){var i=v()(a()().mark(function S(d){return a()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:console.log("api_response"),console.log(d);case 2:case"end":return I.stop()}},S)}));return function(S){return i.apply(this,arguments)}}())},children:(0,o.jsx)(J.ZP,{type:"primary",icon:(0,o.jsx)(X.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(r){},children:"Change Image"})})})})]})}),(0,o.jsxs)(b.Z,{span:18,children:[(0,o.jsxs)(x.A.Group,{size:24,children:[(0,o.jsx)(R.Z,{name:"name",label:"Name",placeholder:"Type Your Name",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(R.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsxs)(x.A.Group,{size:24,children:[(0,o.jsx)(Q.Z,{label:"Date of Birth",name:"date_of_birth",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(R.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsx)(x.A.Group,{size:24,children:(0,o.jsx)(k.Z,{name:"bio_data",label:"Biographical Info",placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})})})})};O.default=M}}]);
