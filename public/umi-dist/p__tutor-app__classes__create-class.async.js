"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5103],{38345:function(K,f,e){var i=e(1413),n=e(53911),D=e(44962),l=e(13286),C=e(85893),m=function(E){return(0,C.jsx)(n.Z,(0,i.Z)({bodyStyle:{padding:0}},E))},p=n.Z;p.isProCard=!0,p.Divider=D.Z,p.TabPane=l.Z,p.Group=m,f.Z=p},21134:function(K,f,e){var i=e(1413),n=e(91),D=e(67294),l=e(57812),C=e(85893),m=["fieldProps","request","params","proFieldProps"],p=function(s,W){var B=s.fieldProps,T=s.request,R=s.params,c=s.proFieldProps,d=(0,n.Z)(s,m);return(0,C.jsx)(l.Z,(0,i.Z)({valueType:"segmented",fieldProps:B,ref:W,request:T,params:R,filedConfig:{customLightMode:!0},proFieldProps:c},d))},v=D.forwardRef(p);f.Z=v},64317:function(K,f,e){var i=e(1413),n=e(91),D=e(22270),l=e(67294),C=e(66758),m=e(57812),p=e(85893),v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],E=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],s=function(d,I){var M=d.fieldProps,t=d.children,r=d.params,O=d.proFieldProps,h=d.mode,U=d.valueEnum,F=d.request,g=d.showSearch,a=d.options,o=(0,n.Z)(d,v),x=(0,l.useContext)(C.Z);return(0,p.jsx)(m.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,D.h)(U),request:F,params:r,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({options:a,mode:h,showSearch:g,getPopupContainer:x.getPopupContainer},M),ref:I,proFieldProps:O},o),{},{children:t}))},W=l.forwardRef(function(c,d){var I=c.fieldProps,M=c.children,t=c.params,r=c.proFieldProps,O=c.mode,h=c.valueEnum,U=c.request,F=c.options,g=(0,n.Z)(c,E),a=(0,i.Z)({options:F,mode:O||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},I),o=(0,l.useContext)(C.Z);return(0,p.jsx)(m.Z,(0,i.Z)((0,i.Z)({valueEnum:(0,D.h)(h),request:U,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,i.Z)({getPopupContainer:o.getPopupContainer},a),ref:d,proFieldProps:r},g),{},{children:M}))}),B=l.forwardRef(s),T=W,R=B;R.SearchSelect=T,R.displayName="ProFormComponent",f.Z=R},90672:function(K,f,e){var i=e(1413),n=e(91),D=e(67294),l=e(57812),C=e(85893),m=["fieldProps","proFieldProps"],p=function(E,s){var W=E.fieldProps,B=E.proFieldProps,T=(0,n.Z)(E,m);return(0,C.jsx)(l.Z,(0,i.Z)({ref:s,valueType:"textarea",fieldProps:W,proFieldProps:B},T))};f.Z=D.forwardRef(p)},5966:function(K,f,e){var i=e(97685),n=e(1413),D=e(91),l=e(21770),C=e(47019),m=e(55241),p=e(98423),v=e(67294),E=e(57812),s=e(85893),W=["fieldProps","proFieldProps"],B=["fieldProps","proFieldProps"],T="text",R=function(t){var r=t.fieldProps,O=t.proFieldProps,h=(0,D.Z)(t,W);return(0,s.jsx)(E.Z,(0,n.Z)({valueType:T,fieldProps:r,filedConfig:{valueType:T},proFieldProps:O},h))},c=function(t){var r=(0,l.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),O=(0,i.Z)(r,2),h=O[0],U=O[1];return(0,s.jsx)(C.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(g){var a,o=g.getFieldValue(t.name||[]);return(0,s.jsx)(m.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(_){return _&&_.parentNode?_.parentNode:_},onOpenChange:function(_){return U(_)},content:(0,s.jsxs)("div",{style:{padding:"4px 0"},children:[(a=t.statusRender)===null||a===void 0?void 0:a.call(t,o),t.strengthText?(0,s.jsx)("div",{style:{marginTop:10},children:(0,s.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:h,children:t.children}))}})},d=function(t){var r=t.fieldProps,O=t.proFieldProps,h=(0,D.Z)(t,B),U=(0,v.useState)(!1),F=(0,i.Z)(U,2),g=F[0],a=F[1];return r!=null&&r.statusRender&&h.name?(0,s.jsx)(c,{name:h.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:g,onOpenChange:a,children:(0,s.jsx)("div",{children:(0,s.jsx)(E.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,p.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(x){var _;r==null||(_=r.onBlur)===null||_===void 0||_.call(r,x),a(!1)},onClick:function(x){var _;r==null||(_=r.onClick)===null||_===void 0||_.call(r,x),a(!0)}}),proFieldProps:O,filedConfig:{valueType:T}},h))})}):(0,s.jsx)(E.Z,(0,n.Z)({valueType:"password",fieldProps:r,proFieldProps:O,filedConfig:{valueType:T}},h))},I=R;I.Password=d,I.displayName="ProFormComponent",f.Z=I},36940:function(K,f,e){e.r(f);var i=e(5574),n=e.n(i),D=e(15009),l=e.n(D),C=e(99289),m=e.n(C),p=e(6110),v=e(34994),E=e(2236),s=e(38345),W=e(5966),B=e(90672),T=e(21134),R=e(64317),c=e(5155),d=e(2453),I=e(47019),M=e(67294),t=e(76772),r=e(85893),O=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(o){setTimeout(function(){o(!0)},a)})},h={users:[{user:void 0}]},U=function(){var g=m()(l()().mark(function a(o,x){var _,G;return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",o),P.prev=2,G={title:o==null?void 0:o.title,description:o==null?void 0:o.description,status:o==null?void 0:o.status,author_id:x,category_id:o==null?void 0:o.category_id,users:(o==null||(_=o.users)===null||_===void 0?void 0:_.map(function(S){return S==null?void 0:S.user}))||[]},P.next=6,(0,t.request)("/api/classes",{method:"POST",data:G}).then(function(){var S=m()(l()().mark(function $(L){var y,b;return l()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:(L==null||(y=L.data)===null||y===void 0?void 0:y.id)>0&&(d.ZP.success("Submitted successfully"),t.history.push("/tutor-app/classes/edit/"+(L==null||(b=L.data)===null||b===void 0?void 0:b.id)));case 1:case"end":return Z.stop()}},$)}));return function($){return S.apply(this,arguments)}}()).catch(function(S){console.log(S)});case 6:return P.abrupt("return",P.sent);case 9:P.prev=9,P.t0=P.catch(2),console.log("api_response - error"),console.log(P.t0);case 13:return P.abrupt("return",!0);case 14:case"end":return P.stop()}},a,null,[[2,9]])}));return function(o,x){return g.apply(this,arguments)}}(),F=function(){var a=(0,t.useModel)("@@initialState"),o=a.initialState,x=a.loading,_=a.refresh,G=a.setInitialState,V=(0,M.useState)(0),P=n()(V,2),S=P[0],$=P[1],L=I.Z.useForm(),y=n()(L,1),b=y[0],N=(0,M.useState)([]),Z=n()(N,2),Q=Z[0],X=Z[1],Y=(0,M.useState)([]),H=n()(Y,2),w=H[0],q=H[1];return(0,M.useEffect)(function(){var A;$(o==null||(A=o.currentUser)===null||A===void 0?void 0:A.id)},[]),(0,M.useEffect)(function(){return(0,t.request)("/api/categories",{}).then(function(A){var j=A.data.data.map(function(u,J){return{value:u==null?void 0:u.id,label:u==null?void 0:u.title}});return X(j),j})},[]),(0,M.useEffect)(function(){return(0,t.request)("/api/users",{params:{role:"user",page:1,per_page:1e3}}).then(function(A){var j=A.data.data.map(function(u,J){return{value:u==null?void 0:u.id,label:u==null?void 0:u.name}});return q(j),j})},[]),(0,r.jsx)(p._z,{children:(0,r.jsxs)(v.A,{onFinish:function(){var A=m()(l()().mark(function j(u){return l()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,O(2e3);case 2:return z.next=4,U(u,S);case 4:case"end":return z.stop()}},j)}));return function(j){return A.apply(this,arguments)}}(),layout:"vertical",grid:!0,initialValues:h,form:b,submitter:{render:function(j,u){return(0,r.jsx)(E.S,{children:u})}},children:[(0,r.jsxs)(s.Z,{title:"Class Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(j){return console.log(j)},children:[(0,r.jsx)(v.A.Group,{size:24,children:(0,r.jsx)(W.Z,{name:"title",label:"Title",placeholder:"Type Class Title",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsx)(v.A.Group,{size:24,children:(0,r.jsx)(B.Z,{name:"description",label:"Description",fieldProps:{rows:6},placeholder:"Share a little description to fill out your class.",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsxs)(v.A.Group,{size:24,children:[(0,r.jsx)(T.Z,{name:"status",label:"Status",initialValue:"in-active",valueEnum:{"in-active":"In-Active",active:"Active"},colProps:{xs:24,sm:24,md:6,lg:6,xl:6}}),(0,r.jsx)(R.Z,{name:"category_id",label:"Categories",showSearch:!0,options:Q,debounceTime:300,placeholder:"Please Select a Category",rules:[{required:!0}],colProps:{xs:24,sm:24,md:18,lg:18,xl:18}})]})]}),(0,r.jsx)(s.Z,{title:"Assign Users",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,r.jsx)(v.A.Group,{size:24,children:(0,r.jsx)(c.u,{name:"users",min:1,copyIconProps:{tooltipText:"Copy this user"},deleteIconProps:{tooltipText:"Delete this user"},creatorButtonProps:{creatorButtonText:"Add New User"},children:(0,r.jsx)(v.A.Group,{size:24,children:(0,r.jsx)(R.Z,{name:"user",label:"User",showSearch:!0,options:w,debounceTime:300,placeholder:"Please Select a User",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})})]})})};f.default=F}}]);
