"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1351],{59184:function(ie,y,o){o.r(y);var F=o(5574),v=o.n(F),z=o(15009),a=o.n(z),S=o(99289),c=o.n(S),w=o(6110),D=o(38020),G=o(2236),A=o(38345),_=o(34994),i=o(5966),Y=o(50335),$=o(90672),I=o(2453),H=o(47019),B=o(42119),N=o(71230),P=o(15746),V=o(95715),Q=o(66476),J=o(83622),X=o(88484),f=o(67294),g=o(76772),q=o(27484),k=o.n(q),ee=o(77181),re=o(60352),oe=o(58547),r=o(85893),M=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(p){setTimeout(function(){p(!0)},m)})},ne=function(){var O=c()(a()().mark(function m(p,x){return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:console.log("onFinishHandlerStepsForm"),console.log("Received values of form: ",p),I.ZP.success("Submitted successfully"),g.history.push("/admin-app/tutors/edit/"+x);case 4:case"end":return E.stop()}},m)}));return function(p,x){return O.apply(this,arguments)}}(),se=function(){var m=H.Z.useForm(),p=v()(m,1),x=p[0],L=(0,f.useRef)(),E=(0,f.useRef)(),te=(0,f.useState)("http://zia.project.localhost.com/images/default/user-profile-image.png"),W=v()(te,2),b=W[0],U=W[1],le=(0,f.useState)({}),Z=v()(le,2),j=Z[0],ae=Z[1];return(0,r.jsx)(w._z,{children:(0,r.jsxs)(D.L0,{onFinish:function(){var l=c()(a()().mark(function n(e){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(1e3);case 2:return t.next=4,ne(e,j);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},n)}));return function(n){return l.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(n,e){return(0,r.jsx)(G.S,{children:e})}},stepsRender:function(n,e){var s;return(0,r.jsx)(B.Z,{current:e==null||(s=e.props)===null||s===void 0||(s=s.children)===null||s===void 0||(s=s.props)===null||s===void 0?void 0:s.current,children:[{key:"personal_details",title:"Personal Details"},{key:"qualification_and_experience_details",title:"Qualification & Experience Details"}].map(function(t){return(0,r.jsx)(B.Z.Step,{title:t.title},t.key)})})},children:[(0,r.jsxs)(D.L0.StepForm,{name:"personal_details",title:"Personal Details",onFinish:function(){var l=c()(a()().mark(function n(e){var s;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,M(2e3);case 2:return s={image_url:b,name:e==null?void 0:e.name,email:e==null?void 0:e.email,role:"tutor",mobile_no:e==null?void 0:e.mobile_no,date_of_birth:k()(new Date(e==null?void 0:e.date_of_birth)).format("YYYY-MM-DD"),bio_data:e==null?void 0:e.bio_data,password:e==null?void 0:e.password,address:{street:e==null?void 0:e.street,country:e==null?void 0:e.country,province:e==null?void 0:e.province,city:e==null?void 0:e.city,postal_code:e==null?void 0:e.postal_code}},console.log("request_data"),console.log(s),(0,g.request)("/api/users",{method:"POST",data:s}).then(function(){var d=c()(a()().mark(function K(u){var C,T;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:console.log("api_response"),console.log(u),(u==null||(C=u.data)===null||C===void 0?void 0:C.id)>0&&ae(u==null||(T=u.data)===null||T===void 0?void 0:T.id);case 3:case"end":return R.stop()}},K)}));return function(K){return d.apply(this,arguments)}}()).catch(function(d){console.log(d)}),h.abrupt("return",!0);case 7:case"end":return h.stop()}},n)}));return function(n){return l.apply(this,arguments)}}(),layout:"vertical",grid:!0,form:x,children:[(0,r.jsx)(A.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(n){return console.log(n)},children:(0,r.jsxs)(N.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(P.Z,{span:6,children:(0,r.jsxs)(_.A.Group,{size:24,children:[(0,r.jsx)(P.Z,{span:24,children:(0,r.jsx)(V.Z,{width:"100%",height:200,src:b})}),(0,r.jsx)(P.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(_.A.Item,{name:"image_url",getValueFromEvent:oe.h,children:(0,r.jsx)(Q.Z,{name:"file",onChange:function(n){if(console.log("file - onChange - info"),console.log(n),n.file.status!=="uploading"){if(n.file.status=="removed"&&U(""),n.file.status==="done"){var e;U(n==null||(e=n.file)===null||e===void 0||(e=e.response)===null||e===void 0?void 0:e.url)}n.file.status==="error"&&I.ZP.error("".concat(n.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(n){console.log("file is removed"),console.log(n),(0,g.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:n==null?void 0:n.name,directory:"users"}}).then(function(){var e=c()(a()().mark(function s(t){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log("api_response"),console.log(t);case 2:case"end":return d.stop()}},s)}));return function(s){return e.apply(this,arguments)}}())},children:(0,r.jsx)(J.ZP,{type:"primary",icon:(0,r.jsx)(X.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(n){},children:"Change Image"})})})})]})}),(0,r.jsxs)(P.Z,{span:18,children:[(0,r.jsxs)(_.A.Group,{size:24,children:[(0,r.jsx)(i.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(i.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(_.A.Group,{size:24,children:[(0,r.jsx)(Y.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(i.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(_.A.Group,{size:24,children:(0,r.jsx)($.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsxs)(_.A.Group,{size:24,children:[(0,r.jsx)(i.Z.Password,{name:"password",label:"Password",placeholder:"Please type a password",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(i.Z.Password,{name:"password_confirmation",label:"Confirm Password",dependencies:["password"],placeholder:"Please type a confirm password",rules:[{required:!0,message:"Please confirm your password!"},function(l){var n=l.getFieldValue;return{validator:function(s,t){return!t||n("password")===t?Promise.resolve():Promise.reject(new Error("The new password that you entered do not match!"))}}}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})}),(0,r.jsxs)(A.Z,{title:"Address Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,r.jsx)(_.A.Group,{size:24,children:(0,r.jsx)(i.Z,{name:"street",label:"Street address",placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsxs)(_.A.Group,{size:24,children:[(0,r.jsx)(i.Z,{name:"country",label:"Country / Region",placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(i.Z,{name:"province",label:"Province",placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(_.A.Group,{size:24,children:[(0,r.jsx)(i.Z,{name:"city",label:"City",placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(i.Z,{name:"postal_code",label:"Postal Code / ZIP",placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]}),(0,r.jsxs)(D.L0.StepForm,{name:"qualification_and_experience_details",title:"Qualification & Experience Details",onFinish:c()(a()().mark(function l(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(2e3);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},l)})),layout:"vertical",grid:!0,children:[(0,r.jsx)(ee.Z,{qualificationsTableRef:L,tutorID:j}),",",(0,r.jsx)(re.Z,{experiencesTableRef:E,tutorID:j})]})]})})};y.default=se}}]);
