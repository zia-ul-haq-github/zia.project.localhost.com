"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1517],{82061:function(y,c,e){var i=e(1413),r=e(67294),v=e(47046),t=e(91146),m=function(h,g){return r.createElement(t.Z,(0,i.Z)((0,i.Z)({},h),{},{ref:g,icon:v.Z}))},s=r.forwardRef(m);c.Z=s},47389:function(y,c,e){var i=e(1413),r=e(67294),v=e(27363),t=e(91146),m=function(h,g){return r.createElement(t.Z,(0,i.Z)((0,i.Z)({},h),{},{ref:g,icon:v.Z}))},s=r.forwardRef(m);c.Z=s},51042:function(y,c,e){var i=e(1413),r=e(67294),v=e(42110),t=e(91146),m=function(h,g){return r.createElement(t.Z,(0,i.Z)((0,i.Z)({},h),{},{ref:g,icon:v.Z}))},s=r.forwardRef(m);c.Z=s},63783:function(y,c,e){var i=e(1413),r=e(67294),v=e(36688),t=e(91146),m=function(h,g){return r.createElement(t.Z,(0,i.Z)((0,i.Z)({},h),{},{ref:g,icon:v.Z}))},s=r.forwardRef(m);c.Z=s},68280:function(y,c,e){e.r(c),e.d(c,{default:function(){return H},waitTime:function(){return B},waitTimePromise:function(){return L}});var i=e(97857),r=e.n(i),v=e(15009),t=e.n(v),m=e(99289),s=e.n(m),P=e(47389),h=e(51042),g=e(6110),U=e(91319),W=e(95715),R=e(83622),A=e(2453),I=e(76772),w=e(27484),S=e.n(w),Y=e(67294),F=e(86738),z=e(63783),Q=e(82061),n=e(85893),$=function(l){var E=l.rowId,o=l.onFinish;return(0,n.jsx)(F.Z,{title:"Delete the Category",description:"Are you sure you want to delete this Category?",icon:(0,n.jsx)(z.Z,{style:{color:"red"}}),placement:"left",onConfirm:s()(t()().mark(function Z(){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,I.request)("/api/categories/"+E,{method:"DELETE"}).then(function(j){j.status===!0?o({status:!0,text_message:"Category deleted successfully"}):o({status:!1,text_message:"Failed to delete Category: Invalid response"})});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},Z)})),okText:"Yes",cancelText:"No",children:(0,n.jsx)(R.ZP,{danger:!0,children:(0,n.jsx)(Q.Z,{})},"deletable")})},G=$,L=function(){var C=s()(t()().mark(function l(){var E,o=arguments;return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return E=o.length>0&&o[0]!==void 0?o[0]:100,u.abrupt("return",new Promise(function(d){setTimeout(function(){d(!0)},E)}));case 2:case"end":return u.stop()}},l)}));return function(){return C.apply(this,arguments)}}(),B=function(){var C=s()(t()().mark(function l(){var E,o=arguments;return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return E=o.length>0&&o[0]!==void 0?o[0]:100,u.next=3,L(E);case 3:case"end":return u.stop()}},l)}));return function(){return C.apply(this,arguments)}}(),N=function(){var l=(0,I.useModel)("@@initialState"),E=l.initialState,o=l.loading,Z=l.refresh,u=l.setInitialState;console.log("initialState"),console.log(E),console.log("loading"),console.log(o);var d=(0,Y.useRef)(),j=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",key:"table-column-title",copyable:!0,hideInSearch:!0,render:function(O,a){return(0,n.jsxs)("div",{children:[(0,n.jsx)(W.Z,{width:50,height:50,src:a==null?void 0:a.image_url}),(0,n.jsx)("span",{style:{margin:"0px 0px 0px 10px"},children:a==null?void 0:a.title})]})}},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(O){return(0,n.jsx)("p",{children:S()(new Date(O)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(O){return(0,n.jsx)("p",{children:S()(new Date(O)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(O,a,x,J){return[(0,n.jsx)(R.ZP,{onClick:function(){I.history.push("/admin-app/categories/edit/"+a.id)},children:(0,n.jsx)(P.Z,{})},"editable"),(0,n.jsx)(G,{rowId:a==null?void 0:a.id,onFinish:function(f){var M=f.status,_=f.text_message;if(M){var p;A.ZP.success(_),(p=d.current)===null||p===void 0||p.reload()}else A.ZP.error(_)}})]}}];return(0,n.jsx)(g._z,{children:(0,n.jsx)(U.Z,{actionRef:d,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,n.jsxs)(R.ZP,{type:"primary",onClick:function(){I.history.push("/admin-app/categories/new")},children:[(0,n.jsx)(h.Z,{})," New"]},"new")]},request:function(){var D=s()(t()().mark(function O(a,x,J){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,B(2e3);case 2:return f.next=4,(0,I.request)("/api/categories",{params:{sort:r()({},x),pagination:r()({},a)}}).then(function(){var M=s()(t()().mark(function _(p){return t()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",{data:p.data.data,total:p.data.total,current_page:p.data.current_page});case 1:case"end":return T.stop()}},_)}));return function(_){return M.apply(this,arguments)}}()).catch(function(M){console.log(M)});case 4:return f.abrupt("return",f.sent);case 5:case"end":return f.stop()}},O)}));return function(O,a,x){return D.apply(this,arguments)}}(),columns:j})})},H=N}}]);
