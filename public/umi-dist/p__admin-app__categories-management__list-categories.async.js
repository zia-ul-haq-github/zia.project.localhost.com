"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[517],{82061:function(y,c,e){var o=e(1413),r=e(67294),m=e(47046),t=e(91146),h=function(D,E){return r.createElement(t.Z,(0,o.Z)((0,o.Z)({},D),{},{ref:E,icon:m.Z}))},i=r.forwardRef(h);c.Z=i},47389:function(y,c,e){var o=e(1413),r=e(67294),m=e(27363),t=e(91146),h=function(D,E){return r.createElement(t.Z,(0,o.Z)((0,o.Z)({},D),{},{ref:E,icon:m.Z}))},i=r.forwardRef(h);c.Z=i},51042:function(y,c,e){var o=e(1413),r=e(67294),m=e(42110),t=e(91146),h=function(D,E){return r.createElement(t.Z,(0,o.Z)((0,o.Z)({},D),{},{ref:E,icon:m.Z}))},i=r.forwardRef(h);c.Z=i},38345:function(y,c,e){var o=e(1413),r=e(53911),m=e(44962),t=e(13286),h=e(85893),i=function(E){return(0,h.jsx)(r.Z,(0,o.Z)({bodyStyle:{padding:0}},E))},f=r.Z;f.isProCard=!0,f.Divider=m.Z,f.TabPane=t.Z,f.Group=i,c.Z=f},68280:function(y,c,e){e.r(c),e.d(c,{default:function(){return Q},waitTime:function(){return B},waitTimePromise:function(){return L}});var o=e(97857),r=e.n(o),m=e(15009),t=e.n(m),h=e(99289),i=e.n(h),f=e(47389),D=e(51042),E=e(6110),U=e(91319),W=e(95715),R=e(83622),A=e(2453),M=e(76772),Y=e(27484),S=e.n(Y),w=e(67294),F=e(86738),G=e(63783),z=e(82061),n=e(85893),$=function(s){var g=s.rowId,l=s.onFinish;return(0,n.jsx)(F.Z,{title:"Delete the Category",description:"Are you sure you want to delete this Category?",icon:(0,n.jsx)(G.Z,{style:{color:"red"}}),placement:"left",onConfirm:i()(t()().mark(function T(){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,M.request)("/api/categories/"+g,{method:"DELETE"}).then(function(j){j.status===!0?l({status:!0,text_message:"Category deleted successfully"}):l({status:!1,text_message:"Failed to delete Category: Invalid response"})});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},T)})),okText:"Yes",cancelText:"No",children:(0,n.jsx)(R.ZP,{danger:!0,children:(0,n.jsx)(z.Z,{})},"deletable")})},N=$,L=function(){var C=i()(t()().mark(function s(){var g,l=arguments;return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return g=l.length>0&&l[0]!==void 0?l[0]:100,u.abrupt("return",new Promise(function(d){setTimeout(function(){d(!0)},g)}));case 2:case"end":return u.stop()}},s)}));return function(){return C.apply(this,arguments)}}(),B=function(){var C=i()(t()().mark(function s(){var g,l=arguments;return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return g=l.length>0&&l[0]!==void 0?l[0]:100,u.next=3,L(g);case 3:case"end":return u.stop()}},s)}));return function(){return C.apply(this,arguments)}}(),b=function(){var s=(0,M.useModel)("@@initialState"),g=s.initialState,l=s.loading,T=s.refresh,u=s.setInitialState;console.log("initialState"),console.log(g),console.log("loading"),console.log(l);var d=(0,w.useRef)(),j=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",key:"table-column-title",copyable:!0,hideInSearch:!0,render:function(p,a){return(0,n.jsxs)("div",{children:[(0,n.jsx)(W.Z,{width:50,height:50,src:a==null?void 0:a.image_url}),(0,n.jsx)("span",{style:{margin:"0px 0px 0px 10px"},children:a==null?void 0:a.title})]})}},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(p){return(0,n.jsx)("p",{children:S()(new Date(p)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(p){return(0,n.jsx)("p",{children:S()(new Date(p)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(p,a,x,H){return[(0,n.jsx)(R.ZP,{onClick:function(){M.history.push("/admin-app/categories/edit/"+a.id)},children:(0,n.jsx)(f.Z,{})},"editable"),(0,n.jsx)(N,{rowId:a==null?void 0:a.id,onFinish:function(v){var I=v.status,_=v.text_message;if(I){var P;A.ZP.success(_),(P=d.current)===null||P===void 0||P.reload()}else A.ZP.error(_)}})]}}];return(0,n.jsx)(E._z,{children:(0,n.jsx)(U.Z,{actionRef:d,rowKey:"id",search:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,n.jsxs)(R.ZP,{type:"primary",onClick:function(){M.history.push("/admin-app/categories/new")},children:[(0,n.jsx)(D.Z,{})," New"]},"new")]},request:function(){var O=i()(t()().mark(function p(a,x,H){return t()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,B(2e3);case 2:return v.next=4,(0,M.request)("/api/categories",{params:{sort:r()({},x),pagination:r()({},a)}}).then(function(){var I=i()(t()().mark(function _(P){return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",{data:P.data.data,total:P.data.total,current_page:P.data.current_page});case 1:case"end":return Z.stop()}},_)}));return function(_){return I.apply(this,arguments)}}()).catch(function(I){console.log(I)});case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},p)}));return function(p,a,x){return O.apply(this,arguments)}}(),columns:j})})},Q=b}}]);
