"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[671],{57619:function(F,D,e){e.d(D,{Z:function(){return p}});var l=e(1413),s=e(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},i=E,M=e(91146),P=function(a,T){return s.createElement(M.Z,(0,l.Z)((0,l.Z)({},a),{},{ref:T,icon:i}))},_=s.forwardRef(P),p=_},38345:function(F,D,e){var l=e(1413),s=e(53911),E=e(44962),i=e(13286),M=e(85893),P=function(h){return(0,M.jsx)(s.Z,(0,l.Z)({bodyStyle:{padding:0}},h))},_=s.Z;_.isProCard=!0,_.Divider=E.Z,_.TabPane=i.Z,_.Group=P,D.Z=_},21134:function(F,D,e){var l=e(1413),s=e(91),E=e(67294),i=e(57812),M=e(85893),P=["fieldProps","request","params","proFieldProps"],_=function(a,T){var R=a.fieldProps,C=a.request,j=a.params,v=a.proFieldProps,d=(0,s.Z)(a,P);return(0,M.jsx)(i.Z,(0,l.Z)({valueType:"segmented",fieldProps:R,ref:T,request:C,params:j,filedConfig:{customLightMode:!0},proFieldProps:v},d))},p=E.forwardRef(_);D.Z=p},64317:function(F,D,e){var l=e(1413),s=e(91),E=e(22270),i=e(67294),M=e(66758),P=e(57812),_=e(85893),p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],a=function(d,W){var U=d.fieldProps,n=d.children,t=d.params,o=d.proFieldProps,g=d.mode,I=d.valueEnum,B=d.request,Z=d.showSearch,f=d.options,c=(0,s.Z)(d,p),r=(0,i.useContext)(M.Z);return(0,_.jsx)(P.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,E.h)(I),request:B,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:f,mode:g,showSearch:Z,getPopupContainer:r.getPopupContainer},U),ref:W,proFieldProps:o},c),{},{children:n}))},T=i.forwardRef(function(v,d){var W=v.fieldProps,U=v.children,n=v.params,t=v.proFieldProps,o=v.mode,g=v.valueEnum,I=v.request,B=v.options,Z=(0,s.Z)(v,h),f=(0,l.Z)({options:B,mode:o||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},W),c=(0,i.useContext)(M.Z);return(0,_.jsx)(P.Z,(0,l.Z)((0,l.Z)({valueEnum:(0,E.h)(g),request:I,params:n,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({getPopupContainer:c.getPopupContainer},f),ref:d,proFieldProps:t},Z),{},{children:U}))}),R=i.forwardRef(a),C=T,j=R;j.SearchSelect=C,j.displayName="ProFormComponent",D.Z=j},90672:function(F,D,e){var l=e(1413),s=e(91),E=e(67294),i=e(57812),M=e(85893),P=["fieldProps","proFieldProps"],_=function(h,a){var T=h.fieldProps,R=h.proFieldProps,C=(0,s.Z)(h,P);return(0,M.jsx)(i.Z,(0,l.Z)({ref:a,valueType:"textarea",fieldProps:T,proFieldProps:R},C))};D.Z=E.forwardRef(_)},5966:function(F,D,e){var l=e(97685),s=e(1413),E=e(91),i=e(21770),M=e(47019),P=e(55241),_=e(98423),p=e(67294),h=e(57812),a=e(85893),T=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],C="text",j=function(n){var t=n.fieldProps,o=n.proFieldProps,g=(0,E.Z)(n,T);return(0,a.jsx)(h.Z,(0,s.Z)({valueType:C,fieldProps:t,filedConfig:{valueType:C},proFieldProps:o},g))},v=function(n){var t=(0,i.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),o=(0,l.Z)(t,2),g=o[0],I=o[1];return(0,a.jsx)(M.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Z){var f,c=Z.getFieldValue(n.name||[]);return(0,a.jsx)(P.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(u){return u&&u.parentNode?u.parentNode:u},onOpenChange:function(u){return I(u)},content:(0,a.jsxs)("div",{style:{padding:"4px 0"},children:[(f=n.statusRender)===null||f===void 0?void 0:f.call(n,c),n.strengthText?(0,a.jsx)("div",{style:{marginTop:10},children:(0,a.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:g,children:n.children}))}})},d=function(n){var t=n.fieldProps,o=n.proFieldProps,g=(0,E.Z)(n,R),I=(0,p.useState)(!1),B=(0,l.Z)(I,2),Z=B[0],f=B[1];return t!=null&&t.statusRender&&g.name?(0,a.jsx)(v,{name:g.name,statusRender:t==null?void 0:t.statusRender,popoverProps:t==null?void 0:t.popoverProps,strengthText:t==null?void 0:t.strengthText,open:Z,onOpenChange:f,children:(0,a.jsx)("div",{children:(0,a.jsx)(h.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,_.Z)(t,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(r){var u;t==null||(u=t.onBlur)===null||u===void 0||u.call(t,r),f(!1)},onClick:function(r){var u;t==null||(u=t.onClick)===null||u===void 0||u.call(t,r),f(!0)}}),proFieldProps:o,filedConfig:{valueType:C}},g))})}):(0,a.jsx)(h.Z,(0,s.Z)({valueType:"password",fieldProps:t,proFieldProps:o,filedConfig:{valueType:C}},g))},W=j;W.Password=d,W.displayName="ProFormComponent",D.Z=W},4692:function(F,D,e){e.r(D);var l=e(5574),s=e.n(l),E=e(15009),i=e.n(E),M=e(99289),P=e.n(M),_=e(6110),p=e(34994),h=e(2236),a=e(38345),T=e(5966),R=e(90672),C=e(21134),j=e(64317),v=e(5155),d=e(2453),W=e(47019),U=e(57619),n=e(67294),t=e(76772),o=e(85893),g=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(r){setTimeout(function(){r(!0)},c)})},I={users:[{user:void 0}]},B=function(){var f=P()(i()().mark(function c(r,u){var $,V;return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",r),O.prev=2,V={title:r==null?void 0:r.title,description:r==null?void 0:r.description,status:r==null?void 0:r.status,passing_percentage:r==null?void 0:r.passing_percentage,attempts_limit:r==null?void 0:r.attempts_limit,author_id:u,class_id:r==null?void 0:r.class_id,users:(r==null||($=r.users)===null||$===void 0?void 0:$.map(function(L){return L==null?void 0:L.user}))||[]},O.next=6,(0,t.request)("/api/quizzes",{method:"POST",data:V}).then(function(){var L=P()(i()().mark(function G(S){var y,b;return i()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:(S==null||(y=S.data)===null||y===void 0?void 0:y.id)>0&&(d.ZP.success("Submitted successfully"),t.history.push("/tutor-app/quizzes/edit/"+(S==null||(b=S.data)===null||b===void 0?void 0:b.id)));case 1:case"end":return K.stop()}},G)}));return function(G){return L.apply(this,arguments)}}()).catch(function(L){console.log(L)});case 6:return O.abrupt("return",O.sent);case 9:O.prev=9,O.t0=O.catch(2),console.log("api_response - error"),console.log(O.t0);case 13:return O.abrupt("return",!0);case 14:case"end":return O.stop()}},c,null,[[2,9]])}));return function(r,u){return f.apply(this,arguments)}}(),Z=function(){var c=(0,t.useModel)("@@initialState"),r=c.initialState,u=c.loading,$=c.refresh,V=c.setInitialState,N=(0,n.useState)(0),O=s()(N,2),L=O[0],G=O[1],S=W.Z.useForm(),y=s()(S,1),b=y[0],Q=(0,n.useState)([]),K=s()(Q,2),X=K[0],Y=K[1],w=(0,n.useState)([]),H=s()(w,2),q=H[0],k=H[1];return(0,n.useEffect)(function(){var x;G(r==null||(x=r.currentUser)===null||x===void 0?void 0:x.id)},[]),(0,n.useEffect)(function(){return(0,t.request)("/api/classes",{}).then(function(x){var A=x.data.data.map(function(m,J){return{value:m==null?void 0:m.id,label:m==null?void 0:m.title}});return Y(A),A})},[]),(0,n.useEffect)(function(){return(0,t.request)("/api/users",{params:{role:"user",page:1,per_page:1e3}}).then(function(x){var A=x.data.data.map(function(m,J){return{value:m==null?void 0:m.id,label:m==null?void 0:m.name}});return k(A),A})},[]),(0,o.jsx)(_._z,{children:(0,o.jsxs)(p.A,{onFinish:function(){var x=P()(i()().mark(function A(m){return i()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,g(2e3);case 2:return z.next=4,B(m,L);case 4:case"end":return z.stop()}},A)}));return function(A){return x.apply(this,arguments)}}(),layout:"vertical",grid:!0,initialValues:I,form:b,submitter:{render:function(A,m){return(0,o.jsx)(h.S,{children:m})}},children:[(0,o.jsxs)(a.Z,{title:"Quiz Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(A){return console.log(A)},children:[(0,o.jsx)(p.A.Group,{size:24,children:(0,o.jsx)(T.Z,{name:"title",label:"Title",placeholder:"Type Quiz Title",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,o.jsx)(p.A.Group,{size:24,children:(0,o.jsx)(R.Z,{name:"description",label:"Description",fieldProps:{rows:6},placeholder:"Share a little description to fill out your quiz.",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,o.jsxs)(p.A.Group,{size:24,children:[(0,o.jsx)(C.Z,{name:"status",label:"Status",initialValue:"in-active",valueEnum:{"in-active":"In-Active",active:"Active"},colProps:{xs:24,sm:24,md:8,lg:8,xl:8}}),(0,o.jsx)(T.Z,{name:"passing_percentage",label:"Passing Percentage",placeholder:"Type Passing Percentage",rules:[{required:!0}],fieldProps:{suffix:(0,o.jsx)(U.Z,{})},colProps:{xs:24,sm:24,md:8,lg:8,xl:8}}),(0,o.jsx)(T.Z,{name:"attempts_limit",label:"Attempts Limit",placeholder:"Type Attempts Limit",rules:[{required:!0}],colProps:{xs:24,sm:24,md:8,lg:8,xl:8}})]}),(0,o.jsx)(p.A.Group,{size:24,children:(0,o.jsx)(j.Z,{name:"class_id",label:"Classes",showSearch:!0,options:X,debounceTime:300,placeholder:"Please Select a Class",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]}),(0,o.jsx)(a.Z,{title:"Assign Users",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,o.jsx)(p.A.Group,{size:24,children:(0,o.jsx)(v.u,{name:"users",min:1,copyIconProps:{tooltipText:"Copy this user"},deleteIconProps:{tooltipText:"Delete this user"},creatorButtonProps:{creatorButtonText:"Add New User"},children:(0,o.jsx)(p.A.Group,{size:24,children:(0,o.jsx)(j.Z,{name:"user",label:"User",showSearch:!0,options:q,debounceTime:300,placeholder:"Please Select a User",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})})]})})};D.default=Z}}]);
