"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[658],{82061:function(C,f,e){var u=e(1413),r=e(67294),h=e(47046),n=e(91146),E=function(P,p){return r.createElement(n.Z,(0,u.Z)((0,u.Z)({},P),{},{ref:p,icon:h.Z}))},i=r.forwardRef(E);f.Z=i},47389:function(C,f,e){var u=e(1413),r=e(67294),h=e(27363),n=e(91146),E=function(P,p){return r.createElement(n.Z,(0,u.Z)((0,u.Z)({},P),{},{ref:p,icon:h.Z}))},i=r.forwardRef(E);f.Z=i},51042:function(C,f,e){var u=e(1413),r=e(67294),h=e(42110),n=e(91146),E=function(P,p){return r.createElement(n.Z,(0,u.Z)((0,u.Z)({},P),{},{ref:p,icon:h.Z}))},i=r.forwardRef(E);f.Z=i},38345:function(C,f,e){var u=e(1413),r=e(53911),h=e(44962),n=e(13286),E=e(85893),i=function(p){return(0,E.jsx)(r.Z,(0,u.Z)({bodyStyle:{padding:0}},p))},m=r.Z;m.isProCard=!0,m.Divider=h.Z,m.TabPane=n.Z,m.Group=i,f.Z=m},4888:function(C,f,e){e.r(f),e.d(f,{default:function(){return H},waitTime:function(){return K},waitTimePromise:function(){return B}});var u=e(97857),r=e.n(u),h=e(15009),n=e.n(h),E=e(99289),i=e.n(E),m=e(47389),P=e(51042),p=e(6110),W=e(91319),Y=e(68997),R=e(83622),A=e(2453),M=e(76772),w=e(27484),L=e.n(w),F=e(67294),z=e(86738),G=e(63783),b=e(82061),a=e(85893),N=function(s){var D=s.rowId,l=s.onFinish;return(0,a.jsx)(z.Z,{title:"Delete the Tutor",description:"Are you sure you want to delete this Tutor?",icon:(0,a.jsx)(G.Z,{style:{color:"red"}}),placement:"left",onConfirm:i()(n()().mark(function j(){return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,M.request)("/api/users/"+D,{method:"DELETE"}).then(function(S){S.status===!0?l({status:!0,text_message:"Tutor deleted successfully"}):l({status:!1,text_message:"Failed to delete Tutor: Invalid response"})});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},j)})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(R.ZP,{danger:!0,children:(0,a.jsx)(b.Z,{})},"deletable")})},$=N,B=function(){var T=i()(n()().mark(function s(){var D,l=arguments;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return D=l.length>0&&l[0]!==void 0?l[0]:100,d.abrupt("return",new Promise(function(c){setTimeout(function(){c(!0)},D)}));case 2:case"end":return d.stop()}},s)}));return function(){return T.apply(this,arguments)}}(),K=function(){var T=i()(n()().mark(function s(){var D,l=arguments;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return D=l.length>0&&l[0]!==void 0?l[0]:100,d.next=3,B(D);case 3:case"end":return d.stop()}},s)}));return function(){return T.apply(this,arguments)}}(),Q=function(){var s=(0,M.useModel)("@@initialState"),D=s.initialState,l=s.loading,j=s.refresh,d=s.setInitialState;console.log("initialState"),console.log(D),console.log("loading"),console.log(l);var c=(0,F.useRef)(),S=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Name",key:"table-column-name",copyable:!0,hideInSearch:!0,render:function(v,t){return(0,a.jsxs)("div",{children:[(0,a.jsx)(Y.Z,{size:"large",src:(t==null?void 0:t.image_url)!==null?t==null?void 0:t.image_url:"http://zia.project.localhost.com/images/default/user-profile-image.png"}),(0,a.jsx)("span",{style:{margin:"0px 0px 0px 10px"},children:t==null?void 0:t.name})]})}},{title:"Email",dataIndex:"email",key:"table-column-email",hideInSearch:!0},{title:"Qualification",dataIndex:"qualifications",key:"table-column-qualification",hideInSearch:!0,render:function(v,t,x,U){var I;return[(t==null||(I=t.qualifications)===null||I===void 0?void 0:I.length)>0?t.qualifications.map(function(o){return o.degree}).join(", "):"No qualifications available"]}},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(v){return(0,a.jsx)("p",{children:L()(new Date(v)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(v){return(0,a.jsx)("p",{children:L()(new Date(v)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(v,t,x,U){return[(0,a.jsx)(R.ZP,{onClick:function(){M.history.push("/admin-app/tutors/edit/"+t.id)},children:(0,a.jsx)(m.Z,{})},"editable"),(0,a.jsx)($,{rowId:t==null?void 0:t.id,onFinish:function(o){var _=o.status,Z=o.text_message;if(_){var O;A.ZP.success(Z),(O=c.current)===null||O===void 0||O.reload()}else A.ZP.error(Z)}})]}}];return(0,a.jsx)(p._z,{children:(0,a.jsx)(W.Z,{actionRef:c,rowKey:"id",search:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,a.jsxs)(R.ZP,{type:"primary",onClick:function(){M.history.push("/admin-app/tutors/new")},children:[(0,a.jsx)(P.Z,{})," New"]},"new")]},request:function(){var g=i()(n()().mark(function v(t,x,U){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,K(2e3);case 2:return o.next=4,(0,M.request)("/api/users",{params:{sort:r()({},x),pagination:r()({},t),role:"tutor"}}).then(function(){var _=i()(n()().mark(function Z(O){return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",{data:O.data.data,total:O.data.total,current_page:O.data.current_page});case 1:case"end":return y.stop()}},Z)}));return function(Z){return _.apply(this,arguments)}}()).catch(function(_){console.log(_)});case 4:return o.abrupt("return",o.sent);case 5:case"end":return o.stop()}},v)}));return function(v,t,x){return g.apply(this,arguments)}}(),columns:S})})},H=Q}}]);
