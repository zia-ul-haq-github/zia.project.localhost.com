"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5658],{82061:function(C,f,e){var i=e(1413),r=e(67294),v=e(47046),n=e(91146),h=function(E,p){return r.createElement(n.Z,(0,i.Z)((0,i.Z)({},E),{},{ref:p,icon:v.Z}))},s=r.forwardRef(h);f.Z=s},47389:function(C,f,e){var i=e(1413),r=e(67294),v=e(27363),n=e(91146),h=function(E,p){return r.createElement(n.Z,(0,i.Z)((0,i.Z)({},E),{},{ref:p,icon:v.Z}))},s=r.forwardRef(h);f.Z=s},51042:function(C,f,e){var i=e(1413),r=e(67294),v=e(42110),n=e(91146),h=function(E,p){return r.createElement(n.Z,(0,i.Z)((0,i.Z)({},E),{},{ref:p,icon:v.Z}))},s=r.forwardRef(h);f.Z=s},63783:function(C,f,e){var i=e(1413),r=e(67294),v=e(36688),n=e(91146),h=function(E,p){return r.createElement(n.Z,(0,i.Z)((0,i.Z)({},E),{},{ref:p,icon:v.Z}))},s=r.forwardRef(h);f.Z=s},4888:function(C,f,e){e.r(f),e.d(f,{default:function(){return H},waitTime:function(){return K},waitTimePromise:function(){return B}});var i=e(97857),r=e.n(i),v=e(15009),n=e.n(v),h=e(99289),s=e.n(h),I=e(47389),E=e(51042),p=e(6110),W=e(91319),w=e(68997),y=e(83622),S=e(2453),_=e(76772),Y=e(27484),L=e.n(Y),F=e(67294),z=e(86738),Q=e(63783),N=e(82061),a=e(85893),$=function(l){var g=l.rowId,u=l.onFinish;return(0,a.jsx)(z.Z,{title:"Delete the Tutor",description:"Are you sure you want to delete this Tutor?",icon:(0,a.jsx)(Q.Z,{style:{color:"red"}}),placement:"left",onConfirm:s()(n()().mark(function R(){return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,_.request)("/api/users/"+g,{method:"DELETE"}).then(function(A){A.status===!0?u({status:!0,text_message:"Tutor deleted successfully"}):u({status:!1,text_message:"Failed to delete Tutor: Invalid response"})});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},R)})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(y.ZP,{danger:!0,children:(0,a.jsx)(N.Z,{})},"deletable")})},b=$,B=function(){var M=s()(n()().mark(function l(){var g,u=arguments;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return g=u.length>0&&u[0]!==void 0?u[0]:100,d.abrupt("return",new Promise(function(c){setTimeout(function(){c(!0)},g)}));case 2:case"end":return d.stop()}},l)}));return function(){return M.apply(this,arguments)}}(),K=function(){var M=s()(n()().mark(function l(){var g,u=arguments;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return g=u.length>0&&u[0]!==void 0?u[0]:100,d.next=3,B(g);case 3:case"end":return d.stop()}},l)}));return function(){return M.apply(this,arguments)}}(),G=function(){var l=(0,_.useModel)("@@initialState"),g=l.initialState,u=l.loading,R=l.refresh,d=l.setInitialState;console.log("initialState"),console.log(g),console.log("loading"),console.log(u);var c=(0,F.useRef)(),A=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Name",key:"table-column-name",copyable:!0,hideInSearch:!0,render:function(m,t){return(0,a.jsxs)("div",{children:[(0,a.jsx)(w.Z,{size:"large",src:(t==null?void 0:t.image_url)!==null?t==null?void 0:t.image_url:"http://zia.project.localhost.com/images/default/user-profile-image.png"}),(0,a.jsx)("span",{style:{margin:"0px 0px 0px 10px"},children:t==null?void 0:t.name})]})}},{title:"Email",dataIndex:"email",key:"table-column-email",hideInSearch:!0},{title:"Qualification",dataIndex:"qualifications",key:"table-column-qualification",hideInSearch:!0,render:function(m,t,j,U){var P;return[(t==null||(P=t.qualifications)===null||P===void 0?void 0:P.length)>0?t.qualifications.map(function(o){return o.degree}).join(", "):"No qualifications available"]}},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(m){return(0,a.jsx)("p",{children:L()(new Date(m)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(m){return(0,a.jsx)("p",{children:L()(new Date(m)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(m,t,j,U){return[(0,a.jsx)(y.ZP,{onClick:function(){_.history.push("/admin-app/tutors/edit/"+t.id)},children:(0,a.jsx)(I.Z,{})},"editable"),(0,a.jsx)(b,{rowId:t==null?void 0:t.id,onFinish:function(o){var T=o.status,Z=o.text_message;if(T){var D;S.ZP.success(Z),(D=c.current)===null||D===void 0||D.reload()}else S.ZP.error(Z)}})]}}];return(0,a.jsx)(p._z,{children:(0,a.jsx)(W.Z,{actionRef:c,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,a.jsxs)(y.ZP,{type:"primary",onClick:function(){_.history.push("/admin-app/tutors/new")},children:[(0,a.jsx)(E.Z,{})," New"]},"new")]},request:function(){var O=s()(n()().mark(function m(t,j,U){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,K(2e3);case 2:return o.next=4,(0,_.request)("/api/users",{params:{sort:r()({},j),pagination:r()({},t),role:"tutor"}}).then(function(){var T=s()(n()().mark(function Z(D){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",{data:D.data.data,total:D.data.total,current_page:D.data.current_page});case 1:case"end":return x.stop()}},Z)}));return function(Z){return T.apply(this,arguments)}}()).catch(function(T){console.log(T)});case 4:return o.abrupt("return",o.sent);case 5:case"end":return o.stop()}},m)}));return function(m,t,j){return O.apply(this,arguments)}}(),columns:A})})},H=G}}]);
